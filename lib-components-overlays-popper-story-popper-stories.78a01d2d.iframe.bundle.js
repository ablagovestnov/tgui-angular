(self.webpackChunktguiangular=self.webpackChunktguiangular||[]).push([[4815],{"./projects/tgui/src/lib/components/overlays/popper/popper.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>PopperComponent});var _Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAudGd1aS1wb3BwZXIgewogICAgICB6LWluZGV4OiAxMDA7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB9CiAgICAKICAgIC50Z3VpLXBvcHBlci1ib2R5IHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGd1aS1jb2xvci1iYWNrZ3JvdW5kKTsKICAgICAgY29sb3I6IHZhcigtLXRndWktY29sb3ItdGV4dCk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIC4wOCksIDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAuMDgpOwogICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAudGd1aS1wb3BwZXItLWlvcyAudGd1aS1wb3BwZXItYm9keSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgICB9CiAg_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./projects/tgui/src/lib/components/overlays/popper/popper.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAudGd1aS1wb3BwZXIgewogICAgICB6LWluZGV4OiAxMDA7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB9CiAgICAKICAgIC50Z3VpLXBvcHBlci1ib2R5IHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGd1aS1jb2xvci1iYWNrZ3JvdW5kKTsKICAgICAgY29sb3I6IHZhcigtLXRndWktY29sb3ItdGV4dCk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIC4wOCksIDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAuMDgpOwogICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAudGd1aS1wb3BwZXItLWlvcyAudGd1aS1wb3BwZXItYm9keSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgICB9CiAg!./projects/tgui/src/lib/components/overlays/popper/popper.component.ts"),_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAudGd1aS1wb3BwZXIgewogICAgICB6LWluZGV4OiAxMDA7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB9CiAgICAKICAgIC50Z3VpLXBvcHBlci1ib2R5IHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGd1aS1jb2xvci1iYWNrZ3JvdW5kKTsKICAgICAgY29sb3I6IHZhcigtLXRndWktY29sb3ItdGV4dCk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIC4wOCksIDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAuMDgpOwogICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAudGd1aS1wb3BwZXItLWlvcyAudGd1aS1wb3BwZXItYm9keSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgICB9CiAg_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAudGd1aS1wb3BwZXIgewogICAgICB6LWluZGV4OiAxMDA7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB9CiAgICAKICAgIC50Z3VpLXBvcHBlci1ib2R5IHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGd1aS1jb2xvci1iYWNrZ3JvdW5kKTsKICAgICAgY29sb3I6IHZhcigtLXRndWktY29sb3ItdGV4dCk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIC4wOCksIDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAuMDgpOwogICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAudGd1aS1wb3BwZXItLWlvcyAudGd1aS1wb3BwZXItYm9keSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgICB9CiAg_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts__WEBPACK_IMPORTED_MODULE_9__),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/common/fesm2022/xhr-BfNfxNDv.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-CBrzkrmd.mjs"),_utils_portal_root_portal_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./projects/tgui/src/lib/components/utils/portal/root-portal.component.ts"),_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./projects/tgui/src/lib/services/platform.service.ts"),_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/tgui/src/lib/services/portal.service.ts"),_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs");let PopperComponent=class PopperComponent{elementRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef);platformId=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.PLATFORM_ID);platformService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_services__WEBPACK_IMPORTED_MODULE_1__.f);portalService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_services__WEBPACK_IMPORTED_MODULE_2__._);updatePositionHandler=()=>{};popperElement;contentTemplate;ngAfterViewInit(){}targetRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(null);placement=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)("bottom");strategy=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)("absolute");offsetByMainAxis=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(8);offsetByCrossAxis=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(0);sameWidth=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!1);flip=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!0);shift=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!0);autoPlacement=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!1);hide=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!1);visible=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.input)(!0);position=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.signal)({top:0,left:0});isHidden=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.signal)(!1);strictPlacement=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>this.autoPlacement()?"auto-start":this.placement()));middlewares=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>{const middlewares=[];if(0===this.offsetByMainAxis()&&0===this.offsetByCrossAxis()||middlewares.push((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.cY)({mainAxis:this.offsetByMainAxis(),crossAxis:this.offsetByCrossAxis()})),this.autoPlacement()&&middlewares.push((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.RK)()),this.flip()&&middlewares.push((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.UU)()),this.shift()&&middlewares.push((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.BN)({padding:8})),this.sameWidth()){const self=this;middlewares.push((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.Ej)({apply({rects}){const currentPosition=self.position();self.position.set({...currentPosition,targetWidth:rects.reference.width})}}))}return this.hide()&&middlewares.push((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.jD)()),middlewares}));constructor(){(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.effect)((()=>{if(!(0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.UE)(this.platformId))return;if(!this.visible())return;const targetElement=this.targetRef();return targetElement?(this.findPortalContainerAndSetupPopper(targetElement),()=>{window.removeEventListener("scroll",this.updatePositionHandler),window.removeEventListener("resize",this.updatePositionHandler)}):void 0}))}findPortalContainerAndSetupPopper(targetElement,retryCount=0){const portalContainer=this.portalService.getPortalContainerElement();portalContainer?setTimeout((()=>{const poppers=portalContainer.querySelectorAll(".tgui-popper");if(console.log("Found popper elements in portal:",poppers.length),0===poppers.length)return void(retryCount<5?(console.log(`No popper elements found, retrying (${retryCount+1}/5)...`),setTimeout((()=>{this.findPortalContainerAndSetupPopper(targetElement,retryCount+1)}),100)):console.error("No popper elements found after multiple attempts"));const popperElement=poppers[poppers.length-1];this.setupPositioning(targetElement,popperElement)}),50):retryCount<5?(console.log(`Portal container not available, retrying (${retryCount+1}/5)...`),setTimeout((()=>{this.findPortalContainerAndSetupPopper(targetElement,retryCount+1)}),100)):console.error("Portal container not available after multiple attempts")}setupPositioning(targetElement,floating){console.log("setupPositioning with floating element:",floating),this.updatePosition(targetElement,floating),window.removeEventListener("scroll",this.updatePositionHandler),window.removeEventListener("resize",this.updatePositionHandler),this.updatePositionHandler=()=>this.updatePosition(targetElement,floating),window.addEventListener("scroll",this.updatePositionHandler,{passive:!0}),window.addEventListener("resize",this.updatePositionHandler,{passive:!0})}updatePosition(reference,floating){var _this=this;return(0,_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_5__.A)((function*(){if(reference&&floating)try{floating.style.position=_this.strategy();const{x,y,middlewareData}=yield(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_3__.rD)(reference,floating,{placement:_this.strictPlacement(),strategy:_this.strategy(),middleware:_this.middlewares()});document.body.offsetHeight,_this.position.set({top:y,left:x,middlewareData,targetWidth:_this.position().targetWidth}),_this.isHidden.set(!!middlewareData.hide?.referenceHidden)}catch(error){console.error("Failed to compute position:",error)}}))()}static ctorParameters=()=>[];static propDecorators={popperElement:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,args:["popperElement"]}],contentTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChild,args:["content"]}],targetRef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"targetRef",required:!1,transform:void 0}]}],placement:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"placement",required:!1,transform:void 0}]}],strategy:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"strategy",required:!1,transform:void 0}]}],offsetByMainAxis:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"offsetByMainAxis",required:!1,transform:void 0}]}],offsetByCrossAxis:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"offsetByCrossAxis",required:!1,transform:void 0}]}],sameWidth:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"sameWidth",required:!1,transform:void 0}]}],flip:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"flip",required:!1,transform:void 0}]}],shift:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"shift",required:!1,transform:void 0}]}],autoPlacement:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"autoPlacement",required:!1,transform:void 0}]}],hide:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"hide",required:!1,transform:void 0}]}],visible:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:[{isSignal:!0,alias:"visible",required:!1,transform:void 0}]}]}};PopperComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Component)({selector:"tgui-popper",standalone:!0,imports:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.MD,_utils_portal_root_portal_component__WEBPACK_IMPORTED_MODULE_8__.A],template:'\n    <tgui-root-portal *ngIf="visible()">\n      <div \n        #popperElement\n        class="tgui-popper"\n        [class.tgui-popper--ios]="platformService.isIOS()"\n        [style.position]="\'absolute\'"\n        [style.top]="position().top + \'px\'"\n        [style.left]="position().left + \'px\'"\n        [style.width]="sameWidth() ? position().targetWidth + \'px\' : \'auto\'"\n        [style.visibility]="isHidden() ? \'hidden\' : \'visible\'"\n        [style.maxWidth]="\'calc(100vw - 16px)\'"\n        [style.maxHeight]="\'calc(100vh - 16px)\'">\n        <div class="tgui-popper-body">\n          <ng-content></ng-content>\n          <ng-container *ngIf="contentTemplate" [ngTemplateOutlet]="contentTemplate"></ng-container>\n        </div>\n      </div>\n    </tgui-root-portal>\n  ',encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewEncapsulation.Emulated,changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,styles:[_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICAudGd1aS1wb3BwZXIgewogICAgICB6LWluZGV4OiAxMDA7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB9CiAgICAKICAgIC50Z3VpLXBvcHBlci1ib2R5IHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGd1aS1jb2xvci1iYWNrZ3JvdW5kKTsKICAgICAgY29sb3I6IHZhcigtLXRndWktY29sb3ItdGV4dCk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIC4wOCksIDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAuMDgpOwogICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAudGd1aS1wb3BwZXItLWlvcyAudGd1aS1wb3BwZXItYm9keSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgICB9CiAg_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_overlays_popper_popper_component_ts__WEBPACK_IMPORTED_MODULE_9___default()]})],PopperComponent)},"./projects/tgui/src/lib/components/overlays/popper/popper.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAudGd1aS1wb3BwZXIgewogICAgICB6LWluZGV4OiAxMDA7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB9CiAgICAKICAgIC50Z3VpLXBvcHBlci1ib2R5IHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGd1aS1jb2xvci1iYWNrZ3JvdW5kKTsKICAgICAgY29sb3I6IHZhcigtLXRndWktY29sb3ItdGV4dCk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIC4wOCksIDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAuMDgpOwogICAgICBvdmVyZmxvdzogYXV0bzsKICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICBtYXgtaGVpZ2h0OiAxMDAlOwogICAgfQogICAgCiAgICAudGd1aS1wb3BwZXItLWlvcyAudGd1aS1wb3BwZXItYm9keSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgICB9CiAg!./projects/tgui/src/lib/components/overlays/popper/popper.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n    .tgui-popper {\n      z-index: 100;\n      box-sizing: border-box;\n    }\n    \n    .tgui-popper-body {\n      background-color: var(--tgui-color-background);\n      color: var(--tgui-color-text);\n      border-radius: 12px;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, .08), 0 4px 12px rgba(0, 0, 0, .08);\n      overflow: auto;\n      max-width: 100%;\n      max-height: 100%;\n    }\n    \n    .tgui-popper--ios .tgui-popper-body {\n      border-radius: 14px;\n    }\n  ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/tgui/src/lib/components/overlays/popper/story/popper.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,PopperWithCloseButton:()=>PopperWithCloseButton,TogglePopper:()=>TogglePopper,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_popper_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/tgui/src/lib/components/overlays/popper/popper.component.ts"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/tgui/src/lib/services/platform.service.ts"),_blocks_button_button_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./projects/tgui/src/lib/components/blocks/button/button.component.ts");let PopperDemoComponent=class PopperDemoComponent{targetBtnWrapper;platformService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_services__WEBPACK_IMPORTED_MODULE_2__.f);placement="bottom";targetElement=null;isPopperVisible=!1;ngAfterViewInit(){this.targetElement=this.targetBtnWrapper.nativeElement}togglePopper(){this.isPopperVisible=!this.isPopperVisible,this.isPopperVisible&&setTimeout((()=>{const event=new Event("resize");window.dispatchEvent(event)}),50)}offsetByMainAxis=8;offsetByCrossAxis=0;sameWidth=!1;flip=!0;shift=!0;hide=!1;autoPlacement=!1;static propDecorators={targetBtnWrapper:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,args:["targetBtnWrapper"]}]}};PopperDemoComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"tgui-popper-demo",standalone:!0,imports:[_popper_component__WEBPACK_IMPORTED_MODULE_4__.Y,_blocks_button_button_component__WEBPACK_IMPORTED_MODULE_5__.Q],template:'\n    <div style="padding: 100px; display: flex; flex-direction: column; gap: 16px;">\n      <div>\n        <div #targetBtnWrapper>\n          <tgui-button mode="filled" size="m" (click)="togglePopper()">\n            {{ isPopperVisible ? \'Hide Popper\' : \'Show Popper\' }}\n          </tgui-button>\n        </div>\n        \n        <tgui-popper\n          [targetRef]="targetElement"\n          [placement]="placement"\n          [offsetByMainAxis]="offsetByMainAxis"\n          [offsetByCrossAxis]="offsetByCrossAxis"\n          [sameWidth]="sameWidth"\n          [flip]="flip"\n          [shift]="shift"\n          [hide]="hide"\n          [visible]="isPopperVisible"\n          [autoPlacement]="autoPlacement">\n          <div style="padding: 16px;">\n            <p style="margin: 0; padding: 0;">Popper Content</p>\n            <p style="margin: 8px 0 0; padding: 0;">This is some content inside the popper</p>\n          </div>\n        </tgui-popper>\n      </div>\n    </div>\n  '})],PopperDemoComponent);let PopperToggleDemoComponent=class PopperToggleDemoComponent{targetBtnWrapper;platformService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_services__WEBPACK_IMPORTED_MODULE_2__.f);placement="bottom";targetElement=null;isPopperVisible=!1;ngAfterViewInit(){this.targetElement=this.targetBtnWrapper.nativeElement}togglePopper(){this.isPopperVisible=!this.isPopperVisible,this.isPopperVisible&&setTimeout((()=>{const event=new Event("resize");window.dispatchEvent(event)}),50)}offsetByMainAxis=8;offsetByCrossAxis=0;sameWidth=!1;flip=!0;shift=!0;hide=!1;autoPlacement=!1;static propDecorators={targetBtnWrapper:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,args:["targetBtnWrapper"]}]}};PopperToggleDemoComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"tgui-popper-toggle-demo",standalone:!0,imports:[_popper_component__WEBPACK_IMPORTED_MODULE_4__.Y,_blocks_button_button_component__WEBPACK_IMPORTED_MODULE_5__.Q],template:'\n    <div style="padding: 100px; display: flex; flex-direction: column; gap: 16px;">\n      <div>\n        <div #targetBtnWrapper>\n          <tgui-button mode="filled" size="m" (click)="togglePopper()">\n            {{ isPopperVisible ? \'Hide Popper\' : \'Show Popper\' }}\n          </tgui-button>\n        </div>\n        \n        <tgui-popper\n          [targetRef]="targetElement"\n          [placement]="placement"\n          [offsetByMainAxis]="offsetByMainAxis"\n          [offsetByCrossAxis]="offsetByCrossAxis"\n          [sameWidth]="sameWidth"\n          [flip]="flip"\n          [shift]="shift"\n          [hide]="hide"\n          [visible]="isPopperVisible"\n          [autoPlacement]="autoPlacement">\n          <div style="padding: 16px;">\n            <p style="margin: 0; padding: 0;">Popper Content</p>\n            <p style="margin: 8px 0 0; padding: 0;">This is some content inside the popper</p>\n          </div>\n        </tgui-popper>\n      </div>\n    </div>\n  '})],PopperToggleDemoComponent);let PopperWithCloseButtonDemoComponent=class PopperWithCloseButtonDemoComponent{targetBtnWrapper;platformService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_services__WEBPACK_IMPORTED_MODULE_2__.f);placement="bottom";targetElement=null;isPopperVisible=!1;ngAfterViewInit(){this.targetElement=this.targetBtnWrapper.nativeElement}openPopper(){this.isPopperVisible=!0,setTimeout((()=>{const event=new Event("resize");window.dispatchEvent(event)}),50)}closePopper(){this.isPopperVisible=!1}onDocumentClick(event){if(this.isPopperVisible){const target=event.target,isClickInsidePopper=!!target.closest(".tgui-popper-body"),isClickOnTargetButton=this.targetElement?.contains(target);isClickInsidePopper||isClickOnTargetButton||this.closePopper()}}offsetByMainAxis=8;offsetByCrossAxis=0;sameWidth=!1;flip=!0;shift=!0;hide=!1;autoPlacement=!1;static propDecorators={targetBtnWrapper:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,args:["targetBtnWrapper"]}]}};PopperWithCloseButtonDemoComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"tgui-popper-with-close-button-demo",standalone:!0,imports:[_popper_component__WEBPACK_IMPORTED_MODULE_4__.Y,_blocks_button_button_component__WEBPACK_IMPORTED_MODULE_5__.Q],template:'\n    <div style="padding: 100px; display: flex; flex-direction: column; gap: 16px;">\n      <div>\n        <div #targetBtnWrapper>\n          <tgui-button mode="filled" size="m" (click)="openPopper()">\n            Open Popper\n          </tgui-button>\n        </div>\n        \n        <tgui-popper\n          [targetRef]="targetElement"\n          [placement]="placement"\n          [offsetByMainAxis]="offsetByMainAxis"\n          [offsetByCrossAxis]="offsetByCrossAxis"\n          [sameWidth]="sameWidth"\n          [flip]="flip"\n          [shift]="shift"\n          [hide]="hide"\n          [visible]="isPopperVisible"\n          [autoPlacement]="autoPlacement">\n          <div style="padding: 16px;">\n            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">\n              <p style="margin: 0; padding: 0; font-weight: bold;">Popper Title</p>\n              <tgui-button mode="text" size="s" (click)="closePopper()">✕</tgui-button>\n            </div>\n            <p style="margin: 0; padding: 0;">Popper Content</p>\n            <p style="margin: 8px 0 0; padding: 0;">This is some content inside the popper with a close button</p>\n          </div>\n        </tgui-popper>\n      </div>\n    </div>\n  ',host:{"(document:click)":"onDocumentClick($event)"}})],PopperWithCloseButtonDemoComponent);const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Overlays/Popper",component:PopperDemoComponent,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_popper_component__WEBPACK_IMPORTED_MODULE_4__.Y,_blocks_button_button_component__WEBPACK_IMPORTED_MODULE_5__.Q]})],argTypes:{placement:{control:"select",options:["top","bottom","left","right"],description:"The preferred placement of the popper",defaultValue:"bottom"},offsetByMainAxis:{control:{type:"number",min:0,max:32,step:2},description:"Offset along the main axis (in pixels)",defaultValue:8},offsetByCrossAxis:{control:{type:"number",min:-32,max:32,step:2},description:"Offset along the cross axis (in pixels)",defaultValue:0},sameWidth:{control:"boolean",description:"Whether the popper should have the same width as the target element",defaultValue:!1},flip:{control:"boolean",description:"Whether the popper should flip to the opposite side when it overflows",defaultValue:!0},shift:{control:"boolean",description:"Whether the popper should shift to stay in view when it would overflow",defaultValue:!0},hide:{control:"boolean",description:"Whether the popper should hide when there is no space for it",defaultValue:!1},autoPlacement:{control:"boolean",description:"Whether the popper should auto-place in the available space",defaultValue:!1}},parameters:{layout:"centered",docs:{description:{component:"Popper component provides a way to position floating elements relative to a reference element."}}}},Default={},TogglePopper={render:args=>({props:args,component:PopperToggleDemoComponent}),parameters:{docs:{description:{story:"A popper that can be toggled on and off with a button click."}}}},PopperWithCloseButton={render:args=>({props:args,component:PopperWithCloseButtonDemoComponent}),parameters:{docs:{description:{story:"A popper with a close button inside and click-outside functionality to dismiss it."}}}},__namedExportsOrder=["Default","TogglePopper","PopperWithCloseButton"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}},TogglePopper.parameters={...TogglePopper.parameters,docs:{...TogglePopper.parameters?.docs,source:{originalSource:"{\n  render: args => ({\n    props: args,\n    component: PopperToggleDemoComponent\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: 'A popper that can be toggled on and off with a button click.'\n      }\n    }\n  }\n}",...TogglePopper.parameters?.docs?.source}}},PopperWithCloseButton.parameters={...PopperWithCloseButton.parameters,docs:{...PopperWithCloseButton.parameters?.docs,source:{originalSource:"{\n  render: args => ({\n    props: args,\n    component: PopperWithCloseButtonDemoComponent\n  }),\n  parameters: {\n    docs: {\n      description: {\n        story: 'A popper with a close button inside and click-outside functionality to dismiss it.'\n      }\n    }\n  }\n}",...PopperWithCloseButton.parameters?.docs?.source}}}},"./projects/tgui/src/lib/components/utils/portal/root-portal.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>RootPortalComponent});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICA6aG9zdCB7CiAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS10Z3VpLS1mb250LWZhbWlseSk7CiAgICB9CiAgICAKICAgIDpob3N0OjpuZy1kZWVwICogewogICAgICBmb250LWZhbWlseTogdmFyKC0tdGd1aS0tZm9udC1mYW1pbHkpOwogICAgfQogIA_3D_3D_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/tgui/src/lib/components/utils/portal/root-portal.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICA6aG9zdCB7CiAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS10Z3VpLS1mb250LWZhbWlseSk7CiAgICB9CiAgICAKICAgIDpob3N0OjpuZy1kZWVwICogewogICAgICBmb250LWZhbWlseTogdmFyKC0tdGd1aS0tZm9udC1mYW1pbHkpOwogICAgfQogIA%3D%3D!./projects/tgui/src/lib/components/utils/portal/root-portal.component.ts"),_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICA6aG9zdCB7CiAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS10Z3VpLS1mb250LWZhbWlseSk7CiAgICB9CiAgICAKICAgIDpob3N0OjpuZy1kZWVwICogewogICAgICBmb250LWZhbWlseTogdmFyKC0tdGd1aS0tZm9udC1mYW1pbHkpOwogICAgfQogIA_3D_3D_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICA6aG9zdCB7CiAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS10Z3VpLS1mb250LWZhbWlseSk7CiAgICB9CiAgICAKICAgIDpob3N0OjpuZy1kZWVwICogewogICAgICBmb250LWZhbWlseTogdmFyKC0tdGd1aS0tZm9udC1mYW1pbHkpOwogICAgfQogIA_3D_3D_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts__WEBPACK_IMPORTED_MODULE_4__),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/tgui/src/lib/services/portal.service.ts");let RootPortalComponent=class RootPortalComponent{contentTemplate;destroy$=new rxjs__WEBPACK_IMPORTED_MODULE_0__.B;viewRef=null;templateReady=!1;portalService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_services__WEBPACK_IMPORTED_MODULE_2__._);viewContainerRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);cdr=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef);constructor(){(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.effect)((()=>{const container=this.portalService.portalContainer();if(this.templateReady&&this.contentTemplate){if(this.viewRef){try{this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.viewRef))}catch(e){console.error("Error removing portal view:",e)}this.viewRef=null}if(container&&container.nativeElement)try{this.viewRef=this.viewContainerRef.createEmbeddedView(this.contentTemplate),this.cdr.detectChanges(),this.viewRef.rootNodes.forEach((node=>{node instanceof HTMLElement&&(node.style.fontFamily="var(--tgui--font-family)"),container.nativeElement.appendChild(node)}))}catch(e){console.error("Error creating portal view:",e)}else console.warn("No portal container available")}}))}ngAfterViewInit(){this.cdr.detectChanges(),this.templateReady=!0,setTimeout((()=>{const container=this.portalService.portalContainer();container&&(this.portalService.clearPortalContainer(),setTimeout((()=>{this.portalService.setPortalContainer(container)}),0))}),0)}ngOnDestroy(){if(this.destroy$.next(),this.destroy$.complete(),this.viewRef)try{this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.viewRef))}catch(e){console.error("Error cleaning up portal view:",e)}}static ctorParameters=()=>[];static propDecorators={contentTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,args:["contentTemplate",{static:!0}]}]}};RootPortalComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"tgui-root-portal",template:"\n    <ng-template #contentTemplate>\n      <ng-content></ng-content>\n    </ng-template>\n  ",standalone:!0,changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,styles:[_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts_css_ngResource_Users_ablagovestnov_CursorProjects_TGUIAngular_node_modules_ngtools_webpack_src_loaders_inline_resource_js_data_CiAgICA6aG9zdCB7CiAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS10Z3VpLS1mb250LWZhbWlseSk7CiAgICB9CiAgICAKICAgIDpob3N0OjpuZy1kZWVwICogewogICAgICBmb250LWZhbWlseTogdmFyKC0tdGd1aS0tZm9udC1mYW1pbHkpOwogICAgfQogIA_3D_3D_Users_ablagovestnov_CursorProjects_TGUIAngular_projects_tgui_src_lib_components_utils_portal_root_portal_component_ts__WEBPACK_IMPORTED_MODULE_4___default()]})],RootPortalComponent)},"./projects/tgui/src/lib/components/utils/portal/root-portal.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICA6aG9zdCB7CiAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS10Z3VpLS1mb250LWZhbWlseSk7CiAgICB9CiAgICAKICAgIDpob3N0OjpuZy1kZWVwICogewogICAgICBmb250LWZhbWlseTogdmFyKC0tdGd1aS0tZm9udC1mYW1pbHkpOwogICAgfQogIA%3D%3D!./projects/tgui/src/lib/components/utils/portal/root-portal.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"\n    :host {\n      font-family: var(--tgui--font-family);\n    }\n    \n    :host::ng-deep * {\n      font-family: var(--tgui--font-family);\n    }\n  ",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);